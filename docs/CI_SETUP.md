# ðŸš€ CI/CD Setup - Notion-Telegram-LLM Integration

## ðŸ“‹ Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚ CI

### Schema Validation Pipeline
- **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°** ÑÑ…ÐµÐ¼ Ð±Ð°Ð· Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ðµ
- **Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½ÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚Ð¸** â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð² ID, Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾Ð»ÐµÐ¹
- **Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸** â€” Ð°Ð²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ notion_schemas_documentation.json
- **Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…** â€” ÐµÑÐ»Ð¸ ÑÑ…ÐµÐ¼Ð° ÑÐ»Ð¾Ð¼Ð°Ð½Ð°, CI Ð½Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚

### Code Quality Pipeline
- **Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð´Ð°** â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° black Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
- **Ð›Ð¸Ð½Ñ‚Ð¸Ð½Ð³** â€” flake8 Ð´Ð»Ñ ÑÑ‚Ð¸Ð»Ñ Ð¸ Ð¾ÑˆÐ¸Ð±Ð¾Ðº
- **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚Ð¸Ð¿Ð¾Ð²** â€” mypy Ð´Ð»Ñ type hints
- **Ð¢ÐµÑÑ‚Ñ‹** â€” Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð·Ð°Ð¿ÑƒÑÐº pytest
- **TODO/FIXME** â€” Ð¿Ð¾Ð¸ÑÐº Ð½ÐµÐ·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½Ð½Ñ‹Ñ… Ð·Ð°Ð´Ð°Ñ‡

## ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

### 1. GitHub Actions
CI ÑƒÐ¶Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð² `.github/workflows/`:
- `schema-validation.yml` â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ…ÐµÐ¼
- `code-quality.yml` â€” ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÐ¾Ð´Ð°

### 2. Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°
```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
pip install -r requirements.txt

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ…ÐµÐ¼
python test_schemas_integration.py

# Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð´Ð°
black .

# Ð›Ð¸Ð½Ñ‚Ð¸Ð½Ð³
flake8 .

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚Ð¸Ð¿Ð¾Ð²
mypy notion_database_schemas.py
```

### 3. Pre-commit hooks (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° pre-commit
pip install pre-commit

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ .pre-commit-config.yaml
cat > .pre-commit-config.yaml << EOF
repos:
  - repo: https://github.com/psf/black
    rev: 23.0.0
    hooks:
      - id: black
  - repo: https://github.com/pycqa/flake8
    rev: 6.0.0
    hooks:
      - id: flake8
EOF

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° hooks
pre-commit install
```

## ðŸ“Š Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ÑÑ

### Schema Validation
- âœ… Ð’ÑÐµ ÑÑ…ÐµÐ¼Ñ‹ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ÑÑ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº
- âœ… ID Ð±Ð°Ð· Ð´Ð°Ð½Ð½Ñ‹Ñ… ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹
- âœ… ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹
- âœ… Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- âœ… Ð¡Ð²ÑÐ·Ð¸ Ð¼ÐµÐ¶Ð´Ñƒ Ð±Ð°Ð·Ð°Ð¼Ð¸ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹
- âœ… Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ

### Code Quality
- âœ… ÐšÐ¾Ð´ Ð¾Ñ‚Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½ black
- âœ… ÐÐµÑ‚ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº flake8
- âœ… Type hints ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹
- âœ… Ð¢ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚
- âœ… ÐÐµÑ‚ Ð½ÐµÐ·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½Ð½Ñ‹Ñ… TODO

## ðŸš¨ ÐŸÑ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…

### Schema Validation Failed
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ `notion_database_schemas.py` Ð½Ð° ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ
2. Ð£Ð±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ DatabaseSchema Ð¸Ð¼ÐµÑŽÑ‚ Ð²ÑÐµ Ð¿Ð¾Ð»Ñ
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ database_id
4. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾: `python test_schemas_integration.py`

### Code Quality Failed
1. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ `black .` Ð´Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
2. Ð˜ÑÐ¿Ñ€Ð°Ð²ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ flake8
3. Ð”Ð¾Ð±Ð°Ð²ÑŒ type hints Ð³Ð´Ðµ Ð½ÑƒÐ¶Ð½Ð¾
4. Ð˜ÑÐ¿Ñ€Ð°Ð²ÑŒ Ñ‚ÐµÑÑ‚Ñ‹

## ðŸ“ˆ ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

### GitHub Actions Dashboard
- ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸ Ð² Actions â†’ Schema Validation
- Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸ Ð»Ð¾Ð³Ð¸ Ð´Ð»Ñ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹ Ð¾ÑˆÐ¸Ð±Ð¾Ðº
- Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð¹ Ð°Ñ€Ñ‚ÐµÑ„Ð°ÐºÑ‚Ñ‹ (Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ)

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
```bash
# Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ…ÐµÐ¼
python -c "from notion_database_schemas import get_all_schemas; print('âœ… Schemas OK')"

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ ÑÑ…ÐµÐ¼Ñ‹
python -c "from notion_database_schemas import get_database_schema; print(get_database_schema('tasks').name)"
```

## ðŸ”„ ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ

### ÐŸÑ€Ð¸ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ðµ Ð² main/develop:
1. Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ schema-validation.yml
2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ÑÑ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÐ¾Ð´Ð°
3. Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
4. Ð•ÑÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ â€” ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÑÐµÑ‚ÑÑ

### ÐŸÑ€Ð¸ PR:
1. Ð¢Ðµ Ð¶Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
2. Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ÑÑ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚ Ñ main
3. ÐœÐ¾Ð¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾-merge Ð¿Ñ€Ð¸ ÑƒÑÐ¿ÐµÑ…Ðµ

## ðŸŽ¯ Best Practices

### Ð”Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸:
- Ð’ÑÐµÐ³Ð´Ð° Ð·Ð°Ð¿ÑƒÑÐºÐ°Ð¹ Ñ‚ÐµÑÑ‚Ñ‹ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ð¿ÐµÑ€ÐµÐ´ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð¼
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ pre-commit hooks
- Ð¡Ð»ÐµÐ´Ð¸ Ð·Ð° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾Ð¼ ÐºÐ¾Ð´Ð°
- ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐ¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ ÑÑ…ÐµÐ¼

### Ð”Ð»Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:
- ÐÐµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ÑŒ ÑÐ»Ð¾Ð¼Ð°Ð½Ð½Ñ‹Ðµ ÑÑ…ÐµÐ¼Ñ‹
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ feature branches
- ÐŸÐ¸ÑˆÐ¸ Ð¿Ð¾Ð½ÑÑ‚Ð½Ñ‹Ðµ commit messages
- Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐ¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

## ðŸ“ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹

### Slack/Discord Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
```yaml
# Ð’ .github/workflows/schema-validation.yml Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ:
- name: Notify Slack
  if: failure()
  uses: 8398a7/action-slack@v3
  with:
    status: ${{ job.status }}
    webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

### Email ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ
ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ Ð² GitHub Settings â†’ Notifications â†’ Email

## ðŸ”§ Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ CI

### Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¾Ðº:
1. Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ð½Ð¾Ð²Ñ‹Ð¹ job Ð² .github/workflows/
2. Ð”Ð¾Ð±Ð°Ð²ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð² requirements.txt
3. ÐÐ°Ð¿Ð¸ÑˆÐ¸ Ñ‚ÐµÑÑ‚Ñ‹ Ð² tests/
4. ÐžÐ±Ð½Ð¾Ð²Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ

### Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼Ð¸:
- **Docker** â€” Ð´Ð»Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸
- **AWS/GCP** â€” Ð´Ð»Ñ Ð´ÐµÐ¿Ð»Ð¾Ñ
- **Slack** â€” Ð´Ð»Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
- **Jira** â€” Ð´Ð»Ñ Ñ‚Ð¸ÐºÐµÑ‚Ð¾Ð²

---

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** ÐŸÐ¾Ð»Ð½Ð°Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð¸ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ ÑÑ…ÐµÐ¼ Ð±Ð°Ð· Ð´Ð°Ð½Ð½Ñ‹Ñ… Notion. 