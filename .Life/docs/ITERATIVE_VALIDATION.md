# –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –£–ª—É—á—à–µ–Ω–∏–µ 3D –ú–æ–¥–µ–ª–µ–π

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ª—É—á—à–∞—Ç—å 3D –º–æ–¥–µ–ª–∏ —Å –æ—Ü–µ–Ω–∫–æ–π –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **BlenderValidator** - –í–∞–ª–∏–¥–∞—Ü–∏—è STL —Ñ–∞–π–ª–æ–≤ –∏ –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
2. **IterativeImprover** - –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
3. **QualityReporter** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ –æ –∫–∞—á–µ—Å—Ç–≤–µ
4. **BlenderEngine** - –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

```
1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏
   ‚Üì
2. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
   ‚Üì
3. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º
   ‚Üì
4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π
   ‚Üì
5. –ü–æ–≤—Ç–æ—Ä –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏
   ‚Üì
6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Python API

```python
from src.integrations.blender_engine import BlenderEngine, ObjectSpec, ObjectType
from src.integrations.blender_validator import BlenderValidator, IterativeImprover

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
engine = BlenderEngine()
validator = BlenderValidator()
improver = IterativeImprover(engine, validator)

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
spec = ObjectSpec(
    name="test_cube",
    object_type=ObjectType.CUBE,
    dimensions=Vector3(2, 2, 2)
)

# –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
results = await improver.improve_model(spec, target_metrics={"face_count": 50})

# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
for result in results:
    print(f"Iteration {result.iteration}: Score = {result.validation.score}")
```

### CLI –ö–æ–º–∞–Ω–¥—ã

#### –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞—Ç—å –∫—É–± —Å –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
python -m src.integrations.blender_cli_integration iterative cube test_cube --target-score 85 --max-iterations 3

# –°–æ–∑–¥–∞—Ç—å —Ü–∏–ª–∏–Ω–¥—Ä —Å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
python -m src.integrations.blender_cli_integration iterative cylinder test_cylinder --position 1 2 3 --material metal

# –°–æ–∑–¥–∞—Ç—å Nike –ª–æ–≥–æ—Ç–∏–ø
python -m src.integrations.blender_cli_integration iterative nike_logo test_nike --target-score 90
```

#### –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤

```bash
# –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å STL —Ñ–∞–π–ª
python -m src.integrations.blender_cli_integration validate output/blender/test.stl

# –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ç—á–µ—Ç–∞
python -m src.integrations.blender_cli_integration validate output/blender/test.stl --output-report validation_report.md
```

## –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- **vertex_count** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω
- **face_count** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞–Ω–µ–π
- **edge_count** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä
- **volume** - –û–±—ä–µ–º –º–æ–¥–µ–ª–∏
- **surface_area** - –ü–ª–æ—â–∞–¥—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
- **bounding_box** - –†–∞–∑–º–µ—Ä—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–µ–≥–æ –±–æ–∫—Å–∞

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π score**: 70/100
- **–ù–∞–ª–∏—á–∏–µ –≥—Ä–∞–Ω–µ–π**: > 0
- **–ù–∞–ª–∏—á–∏–µ –≤–µ—Ä—à–∏–Ω**: > 0
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ non-manifold —Ä–µ–±–µ—Ä**
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏—Ö—Å—è –≥—Ä–∞–Ω–µ–π**

### –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ (0-100)

```
–ë–∞–∑–æ–≤—ã–π score: 100
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥—Ä–∞–Ω–µ–π: -50
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–µ—Ä—à–∏–Ω: -50
- Non-manifold —Ä–µ–±—Ä–∞: -2 –∑–∞ –∫–∞–∂–¥–æ–µ (–º–∞–∫—Å -20)
- –ü–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –≥—Ä–∞–Ω–∏: -1.5 –∑–∞ –∫–∞–∂–¥—É—é (–º–∞–∫—Å -15)
- –ë–æ–Ω—É—Å –∑–∞ —Ö–æ—Ä–æ—à—É—é –≥–µ–æ–º–µ—Ç—Ä–∏—é: +10
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –¢–∏–ø—ã —É–ª—É—á—à–µ–Ω–∏–π

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ non-manifold –≥–µ–æ–º–µ—Ç—Ä–∏–∏**
2. **–£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏—Ö—Å—è –≥—Ä–∞–Ω–µ–π**
3. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∫–∏**
4. **–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏**

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π

```python
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
improvements = improver._generate_improvements(validation_result, target_metrics)

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π –∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
updated_spec = improver._apply_improvements(original_spec, improvements)
```

## –û—Ç—á–µ—Ç—ã –æ –∫–∞—á–µ—Å—Ç–≤–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞

```markdown
# 3D Model Quality Report

## Summary
- Total Iterations: 3
- Final Score: 85/100
- Status: ‚úÖ PASS
- Total Time: 12.34s

## Iteration Details
### Iteration 1
- Score: 75/100
- Time: 4.12s
- Issues: 1
- Improvements: 2

### Iteration 2
- Score: 82/100
- Time: 4.05s
- Issues: 0
- Improvements: 1

### Iteration 3
- Score: 85/100
- Time: 4.17s
- Issues: 0
- Improvements: 0

## Recommendations
- Model meets quality standards

## Metrics Comparison
- vertex_count: 24.00 ‚Üí 24.00 (+0.00)
- face_count: 12.00 ‚Üí 12.00 (+0.00)
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

–û—Ç—á–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- `output/quality_reports/{model_name}_quality_report.md`
- `validation_report.md` (–ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ CLI)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Ç–µ—Ä–∞—Ü–∏–π

```python
improver.max_iterations = 5      # –ú–∞–∫—Å–∏–º—É–º –∏—Ç–µ—Ä–∞—Ü–∏–π
improver.min_score = 80.0        # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π score –¥–ª—è —É—Å–ø–µ—Ö–∞
```

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

```python
target_metrics = {
    "face_count": 50,           # –ú–∏–Ω–∏–º—É–º –≥—Ä–∞–Ω–µ–π
    "vertex_count": 100,        # –ú–∏–Ω–∏–º—É–º –≤–µ—Ä—à–∏–Ω
    "volume": 1.0,              # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º
    "surface_area": 2.0         # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–≥–µ–Ω—Ç–∞–º–∏

### –î–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∞–≥–µ–Ω—Ç–∞

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
final_path, validation_history = await engine.create_object_with_validation(
    spec, target_score=85.0, max_iterations=5
)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
if validation_history[-1]["score"] >= 85.0:
    print("‚úÖ –ú–æ–¥–µ–ª—å –≥–æ—Ç–æ–≤–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º")
    print(f"üìÅ –§–∞–π–ª: {final_path}")
    print(f"üìä Score: {validation_history[-1]['score']}/100")
else:
    print("‚ùå –ú–æ–¥–µ–ª—å —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏")
    print(f"üìä –¢–µ–∫—É—â–∏–π score: {validation_history[-1]['score']}/100")
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π

```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ
if validation_history[-1]["score"] >= 95.0:
    print("üöÄ –ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–¥–æ–±—Ä–µ–Ω–∞")
    return final_path

# –ó–∞–ø—Ä–æ—Å –æ—Ü–µ–Ω–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ —Å—Ä–µ–¥–Ω–µ–º –∫–∞—á–µ—Å—Ç–≤–µ
elif validation_history[-1]["score"] >= 80.0:
    print("üë§ –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ü–µ–Ω–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞")
    # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Telegram –±–æ—Ç–æ–º
    return final_path

# –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ
else:
    print("üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞")
    return None
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
python scripts/test_iterative_creation.py
```

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫—É–±–∞**
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è Nike –ª–æ–≥–æ—Ç–∏–ø–∞**
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ CLI –∫–æ–º–∞–Ω–¥**
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤**

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **Blender –Ω–µ –Ω–∞–π–¥–µ–Ω**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ `_find_blender()`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Blender –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

2. **–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ STL —Ñ–∞–π–ª–∞

3. **–ù–∏–∑–∫–∏–π score –∫–∞—á–µ—Å—Ç–≤–∞**
   - –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ü–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –æ–±—ä–µ–∫—Ç–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
import logging
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)
```

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫

```python
# –í BlenderValidator._generate_validation_script()
metrics["new_metric"] = calculate_new_metric(bm)
```

### –ù–æ–≤—ã–µ —Ç–∏–ø—ã —É–ª—É—á—à–µ–Ω–∏–π

```python
# –í IterativeImprover._generate_improvements()
if "specific_issue" in issue.lower():
    improvements.append("Specific improvement action")
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```python
# –í BlenderValidator
def custom_validation_criteria(self, mesh_data):
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    pass
``` 